
@if (team !== undefined) {
  <div class="team-container">

    <!-- Mobile Navigation Tabs -->
    <nav class="mobile-nav">
      <div class="nav nav-tabs d-md-none" id="nav-tab-team" role="tablist">
        <button class="nav-link" id="nav-stats-tab" data-bs-toggle="tab" data-bs-target="#nav-stats" type="button" role="tab" aria-controls="nav-stats" aria-selected="true">
          <span class="nav-tab-icon">üìä</span>
          <span class="nav-tab-text">Stats</span>
        </button>
        <button class="nav-link active" id="nav-team-tab" data-bs-toggle="tab" data-bs-target="#nav-team" type="button" role="tab" aria-controls="nav-team" aria-selected="false">
          <span class="nav-tab-icon">üë•</span>
          <span class="nav-tab-text">Team</span>
        </button>
        <button class="nav-link" id="nav-competitions-tab" data-bs-toggle="tab" data-bs-target="#nav-competitions" type="button" role="tab" aria-controls="nav-competitions" aria-selected="false">
          <span class="nav-tab-icon">‚öôÔ∏è</span>
          <span class="nav-tab-text">Filters</span>
        </button>
      </div>
    </nav>

    <!-- Desktop Layout: Side by side -->
    <div class="team-layout-desktop d-none d-md-flex">
      <!-- Stats information column -->
      <div class="stats-column">
        <div class="stats-card">
          <div class="stats-header">
            <h2 class="stats-title">Statistics</h2>
          </div>
          <div class="stats-content">
            <div class="stat-item">
              <span class="stat-label">Total views</span>
              <span class="stat-value">-</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Team main information column -->
      <div class="team-info-column">
        <div class="team-card">
          <div class="team-header">
            <img class="team-logo" [src]="images.getRouteImageTeam(team.team.id)" [alt]="team.team.name + ' logo'">
            <h1 class="team-name">{{team.team.name}}</h1>
          </div>
          
          <div class="team-details-grid">
            <div class="detail-item">
              <span class="detail-label">Code</span>
              <span class="detail-value">{{team.team.code}}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Country</span>
              <span class="detail-value">{{team.team.country}}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">City</span>
              <span class="detail-value">{{team.venue.city}}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Founded</span>
              <span class="detail-value">{{team.team.founded}}</span>
            </div>
            <div class="detail-item detail-item-full">
              <span class="detail-label">Stadium</span>
              <span class="detail-value">{{team.venue.name}}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Filters column (Desktop) -->
      <div class="filters-column">
        <app-team-filters
          [selectedSeason]="selectedSeason"
          [seasons]="seasons"
          [leagues]="leagues"
          [selectedLeagues]="selectedLeagues"
          [leagueNames]="leagueNames"
          (seasonChange)="selectSeason($event)"
          (leagueToggle)="selectLeague($event)">
        </app-team-filters>
      </div>
    </div>

    <!-- Mobile Layout: Tabs -->
    <div class="tab-content team-layout-mobile d-md-none" id="nav-tab-team">
      <!-- Stats information column -->
      <div class="tab-pane show" id="nav-stats" role="tabpanel" aria-labelledby="nav-stats-tab">
        <div class="stats-card">
          <div class="stats-header">
            <h2 class="stats-title">Statistics</h2>
          </div>
          <div class="stats-content">
            <div class="stat-item">
              <span class="stat-label">Total views</span>
              <span class="stat-value">-</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Team main information column -->
      <div class="tab-pane show active" id="nav-team" role="tabpanel" aria-labelledby="nav-team-tab">
        <div class="team-card">
          <div class="team-header">
            <img class="team-logo" [src]="images.getRouteImageTeam(team.team.id)" [alt]="team.team.name + ' logo'">
            <h1 class="team-name">{{team.team.name}}</h1>
          </div>
          
          <div class="team-details-grid">
            <div class="detail-item">
              <span class="detail-label">Code</span>
              <span class="detail-value">{{team.team.code}}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Country</span>
              <span class="detail-value">{{team.team.country}}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">City</span>
              <span class="detail-value">{{team.venue.city}}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Founded</span>
              <span class="detail-value">{{team.team.founded}}</span>
            </div>
            <div class="detail-item detail-item-full">
              <span class="detail-label">Stadium</span>
              <span class="detail-value">{{team.venue.name}}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Filters column (Mobile) -->
      <div class="tab-pane show" id="nav-competitions" role="tabpanel" aria-labelledby="nav-competitions-tab">
        <app-team-filters
          [selectedSeason]="selectedSeason"
          [seasons]="seasons"
          [leagues]="leagues"
          [selectedLeagues]="selectedLeagues"
          [leagueNames]="leagueNames"
          (seasonChange)="selectSeason($event)"
          (leagueToggle)="selectLeague($event)">
        </app-team-filters>
      </div>
    </div>
    
    <!-- Matches Section -->
    @if (selectedSeason.id == seasons[0].id) {
      <!-- Mobile Navigation for Matches -->
      <nav class="mobile-nav matches-nav">
        <div class="nav nav-tabs d-md-none" id="nav-tab-matches" role="tablist">
          <button class="nav-link active" id="nav-last-tab" data-bs-toggle="tab" data-bs-target="#nav-last" type="button" role="tab" aria-controls="nav-last" aria-selected="true">
            <span class="nav-tab-icon">üèÅ</span>
            <span class="nav-tab-text">Last played</span>
          </button>
          <button class="nav-link" id="nav-next-tab" data-bs-toggle="tab" data-bs-target="#nav-next" type="button" role="tab" aria-controls="nav-next" aria-selected="false">
            <span class="nav-tab-icon">üìÖ</span>
            <span class="nav-tab-text">Next matches</span>
          </button>
        </div>
      </nav>

      <div class="matches-section">
        <div class="tab-content matches-tab-content" id="nav-team-matches">
          <!-- Last Played Matches -->
          <div class="tab-pane show active matches-column" id="nav-last" role="tabpanel" aria-labelledby="nav-last-tab">
            <div class="matches-header-section d-none d-md-flex">
              <h2 class="section-title">Last played</h2>
            </div>
            
            @for (match of filterStartedRealMatches(); track $index) {
              <div class="match-card-wrapper">
                <app-real-match-card [match]="matchParser.realMatchToMatch(match, findRealMatchInMatches(match.fixture.id))"
                  [watched]="findRealMatchInMatches(match.fixture.id) !== undefined"
                  [locations]="locations">
                </app-real-match-card>
              </div>
            }
          </div>

          <!-- Next Matches -->
          <div class="tab-pane show matches-column" id="nav-next" role="tabpanel" aria-labelledby="nav-next-tab">
            <div class="matches-header-section d-none d-md-flex">
              <h2 class="section-title">Next matches</h2>
            </div>

            @for (match of filterNotStartedRealMatches(); track $index) {
              <div class="match-card-wrapper">
                <app-real-match-card [match]="matchParser.realMatchToMatch(match, findRealMatchInMatches(match.fixture.id))"
                  [watched]="findRealMatchInMatches(match.fixture.id) !== undefined"
                  [locations]="locations">
                </app-real-match-card>
              </div>
            }
          </div>
        </div>
      </div>
    } @else {
      <!-- Historical Season Matches -->
      <div class="matches-section">
        <div class="matches-grid-desktop d-none d-md-flex">
          <div class="matches-column">
            @for (match of filterHalfRealMatches(showRealMatches, 0); track match.fixture.id) {
              <div class="match-card-wrapper">
                <app-real-match-card [match]="matchParser.realMatchToMatch(match, findRealMatchInMatches(match.fixture.id))"
                  [watched]="findRealMatchInMatches(match.fixture.id) !== undefined"
                  [locations]="locations">
                </app-real-match-card>
              </div>
            }
          </div>
          <div class="matches-column">
            @for (match of filterHalfRealMatches(showRealMatches, 1); track match.fixture.id) {
              <div class="match-card-wrapper">
                <app-real-match-card [match]="matchParser.realMatchToMatch(match, findRealMatchInMatches(match.fixture.id))"
                  [watched]="findRealMatchInMatches(match.fixture.id) !== undefined"
                  [locations]="locations">
                </app-real-match-card>
              </div>
            }
          </div>
        </div>

        <div class="matches-list-mobile d-md-none">
          @for (match of showRealMatches; track match.fixture.id) {
            <div class="match-card-wrapper">
              <app-real-match-card [match]="matchParser.realMatchToMatch(match, findRealMatchInMatches(match.fixture.id))"
                [watched]="findRealMatchInMatches(match.fixture.id) !== undefined"
                [locations]="locations">
              </app-real-match-card>
            </div>
          }
        </div>
      </div>
    }

  </div>

}