<div class="container">
  <section class="fade-in">
    <!-- Header section -->
    <div class="header-section">
      <div class="header-row">
        <div class="header-left">
          <h1 class="section-title">Leagues</h1>
          <p class="section-description">Choose a league to view teams and matches</p>
        </div>
        
        <div class="header-right">
          <!-- Country filter -->
          <div class="filter-wrapper">
            <label for="country-filter" class="filter-label">Filter by Country</label>
            <select 
              id="country-filter"
              class="country-filter"
              [(ngModel)]="selectedCountry"
              (change)="onCountryFilterChange()"
              aria-label="Filter leagues by country">
              <option value="">All Countries</option>
              @for (country of availableCountries; track country.name) {
                <option [value]="country.name">{{ country.name }}</option>
              }
            </select>
          </div>
        </div>
      </div>
    </div>
    
    <div class="leagues-grid">
      @if (isLoading) {
        @for (item of [1,2,3,4,5,6,7,8]; track $index) {
          <div class="league-card-skeleton">
            <div class="skeleton-logo"></div>
            <div class="skeleton-name"></div>
            <div class="skeleton-badge"></div>
          </div>
        }
      } @else {
        @for (league of filteredLeagues; track league.league.id) {
          <app-league-card
            [league]="league"
            [viewCount]="getLeagueViewCount(league.league.id)"
            (leagueSelected)="selectLeague($event)">
          </app-league-card>
        }
      }
    </div>
    
    @if (filteredLeagues.length === 0 && !isLoading) {
      <div class="empty-state">
        <div class="empty-state-icon">üèÜ</div>
        <h2 class="empty-state-title">No Leagues Available</h2>
        <p class="empty-state-description">
          @if (selectedCountry) {
            No leagues found for {{ selectedCountry }}.
          } @else {
            There are currently no leagues to display.
          }
        </p>
      </div>
    }
  </section>
</div> 