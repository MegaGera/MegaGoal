@if (isLoading) {
  <app-general-card customClass="insights-card" [loading]="true">
    <div class="loading-skeleton">
      <div class="skeleton-header"></div>
      <div class="skeleton-stats-grid">
        <div class="skeleton-stat"></div>
        <div class="skeleton-stat"></div>
        <div class="skeleton-stat"></div>
        <div class="skeleton-stat"></div>
        <div class="skeleton-stat"></div>
        <div class="skeleton-stat"></div>
      </div>
    </div>
  </app-general-card>
} @else if (teamStats) {
  <app-general-card customClass="insights-card">
    <div class="insights-card-header">
      <h3>ðŸ“ˆ Performance Overview</h3>
    </div>

    <div class="insights-summary-grid performance-stats-grid">
      <app-basic-stat-card
        label="Yellow Cards"
        [value]="teamStats.total_yellow_cards ?? 0"
        [subValue]="getPerMatchValue(teamStats.total_yellow_cards ?? 0)"
        icon="ðŸŸ¨"
        iconClass="cards-yellow">
      </app-basic-stat-card>
      <app-basic-stat-card
        label="Red Cards"
        [value]="teamStats.total_red_cards ?? 0"
        [subValue]="getPerMatchValue(teamStats.total_red_cards ?? 0)"
        icon="ðŸŸ¥"
        iconClass="cards-red">
      </app-basic-stat-card>
      <app-basic-stat-card
        label="Fouls Committed"
        [value]="teamStats.total_fouls ?? 0"
        [subValue]="getPerMatchValue(teamStats.total_fouls ?? 0)"
        icon="ðŸš«"
        iconClass="fouls">
      </app-basic-stat-card>
      <app-basic-stat-card
        label="Shots"
        [value]="teamStats.total_shots ?? 0"
        [subValue]="getPerMatchValue(teamStats.total_shots ?? 0)"
        icon="ðŸŽ¯"
        iconClass="shots">
      </app-basic-stat-card>
      <app-basic-stat-card
        label="Avg Possession"
        [value]="teamStats.average_possession ?? 0"
        [valueSuffix]="'%'"
        icon="ðŸ“Š"
        iconClass="possession">
      </app-basic-stat-card>
      <app-basic-stat-card
        label="Corner Kicks"
        [value]="teamStats.total_corner_kicks ?? 0"
        [subValue]="getPerMatchValue(teamStats.total_corner_kicks ?? 0)"
        icon="ðŸš©"
        iconClass="corners">
      </app-basic-stat-card>
    </div>
  </app-general-card>
}

